<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="icon" href="img/dotGetGame.png">

    <!-- BOOTSTRAP -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <link rel="stylesheet" href="C:\Users\VaniaSayuri\Documents\GitHub\Project2nd\Site\public\css\styleLogin.css">
    <title>.getGame() - Monitorar</title>
</head>

<body>
    <nav class="navbar navbar-expand-sm fixed-top navLogin">
        <a class="navbar-brand" href="index.html">
            <img src="img/logoTransparente.png" alt="Logo" style="width:150px;">
        </a>


    </nav>

    <header>
        <img class="loginBackground" src="img/login.jpg" alt="">
        <div class="conteudo">
            <div class="mainTextoMenor">
                <div class="LoginForm" id="loginEntrar">
                    <p class="loginTitulo">Monitorar</p>
                    <button type="button" onclick="abrirServidor()" id="btnRegistrarServidor">SELECIONAR
                        SERVIDOR</button> 

                    <div> <br>
                        <label><input id="servidor1" name="radio" type="radio" value="servidor1"
                            style="display: inline-block"> Servidor 1</label> <br>

                        <label></label> <input id="servidor2" name="radio" type="radio" value="servidor2"
                            style="display: inline-block"> Servidor 2</label>

                    </div>



                    </form>
                </div>

                <div class="CadastrarForm" id="Cadastro" style="display: none;">
                    <p class="cadastrarTitulo">Registrar Conta</p>
                    <form>
                        <input type="text" placeholder="EndereÃ§o de email">
                        <br>
                        <input type="password" placeholder="Senha">
                        <br>
                        <input type="password" placeholder="Confirmar Senha">
                        <br>
                        <button id="btnCadastrar" class="btnCadastrar">REGISTRAR</button>
                    </form>
                </div>

            </div>
        </div>
    </header>

    <main>


    </main>

</body>

</html>

<script>

    function abrirServidor() {

    }
    function abrirRegistro() {
        loginEntrar.style.display = "none";
        loginCadastro.style.display = "inline-block";
    }

    verificarAutenticacao();

    function verificarAutenticacao() {
        if (sessionStorage.nome != undefined) {
            window.location.href = 'views/areaInterna.html';
        }
    }

    function entrar() {
        espera();
        var form = new URLSearchParams(new FormData(formularioLogin));
        fetch("/usuarios/entrar", {
            method: "POST",
            body: form

        }).then(function (response) {
            if (response.ok) {

                response.json().then(function (resposta) {

                    sessionStorage.nome = resposta.nomeUsuario;
                    verificarAutenticacao();

                });
            } else {
                console.log("Erro ao tentar se conectar");
                fimEspera();
            }
        });
        return false;
    }

    function espera() {
        btnLogin.disable = true;

    }

    function fimEspera() {
        btnLogin.disable = false;
    }
</script>